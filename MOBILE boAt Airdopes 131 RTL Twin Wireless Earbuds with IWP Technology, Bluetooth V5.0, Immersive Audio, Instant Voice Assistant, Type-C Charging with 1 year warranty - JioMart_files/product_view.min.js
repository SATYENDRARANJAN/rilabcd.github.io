var domain_url=window.location.origin+"/";function bind_pdp_category_tree(resp){if(resp.sub_categories){let bottom_sheet="",image_base=window.product_image_path;resp.sub_categories.map(obj=>{obj.sub_categories&&obj.sub_categories.length>0&&(bottom_sheet+=`<div class="accordion category-list">\n                <div class="accordion-wrapper">\n                    <div class="accordion-outer collapsed jm-list jm-pv-xs jm-ph-none category-list-main-item " data-toggle="collapse" data-target="#category-${obj.id}">\n                        <div class="jm-list-prefix">\n                            <div class="category-list-main-image-inner">\n                                <img src="${image_base+obj.thumbnail_image_path}" alt="">\n                            </div>\n                        </div>\n            \n                        <div class="jm-list-content jm-ml-s">\n                            <div class="jm-list-content-title">\n                                ${obj.name}\n                            </div>\n                        </div>\n            \n                        <div class="jm-list-suffix">\n                            <button class="jm-btn tertiary small jm-icon">\n                                <img class="collapse-toggle" src="/assets/ds2msite/jds-icons/chevron-up-p60-m-icon.svg" />\n                            </button>\n                        </div>\n                    </div>\n            \n                <div class="accordion-inner jm-pl-base category-list-inner collapse" data-parent="#cat_bottom_tree" id="category-${obj.id}">`,obj.sub_categories.map(sub=>{bottom_sheet+=`<a href="/${sub.url_path}" title="${sub.name}" class="jm-list jm-ph-none jm-pv-xxs category-list-sub-item">\n                        <div class="jm-list-content">\n                            <div class="jm-list-content-title">\n                                    ${sub.name}\n                            </div>\n                        </div>\n                        <div class="jm-list-suffix">\n                            <button class="jm-btn tertiary small jm-icon">\n                                <img class="collapse-toggle" src="/assets/ds2msite/jds-icons/chevron-right-p60-m-icon.svg" />\n                            </button>\n                        </div>\n                    </a>`}),bottom_sheet+="</div></div></div>")}),$("#cat_bottom_tree").html(bottom_sheet),$("#pdp_view_categories").attr("data-loaded","true")}else $("#cat_bottom_tree").html("Error in fetching categories. Try again!"),$("#pdp_view_categories").attr("data-loaded","true")}function show_hide_app_header(show){"jiomartapp"==localStorage.getItem("nms_refer_lite")&&(show?window.isNewAppHeader&&1==window.isNewAppHeader?app_header(9):app_header(6):app_header(2))}function create_UUID(){var dt=(new Date).getTime(),uuid;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=(dt+16*Math.random())%16|0;return dt=Math.floor(dt/16),("x"==c?r:3&r|8).toString(16)}))}function get_recommendations(){var vertical_code=window.vertical_code,alg_similar_status=window.alg_bought_status,alg_bought_status=window.alg_bought_status;if("1"==alg_similar_status||"1"==alg_bought_status){var sku=window.product_code,alg_similar_sku=window.alg_similar_sku,alg_bought_sku=window.alg_bought_sku,pincode=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(pincode=localStorage.getItem("nms_mgo_pincode"));var headerdata={similar:alg_similar_sku,bought:alg_bought_sku,pin:pincode,"vertical-code":vertical_code};localStorage.getItem("jio_store_id")&&(headerdata.pickupstore=localStorage.getItem("jio_store_id"));var ajax_data={};localStorage.getItem("nms_refer_lite")&&"gpay"==localStorage.getItem("nms_refer_lite")&&(ajax_data.referrer="gpay"),""!=alg_similar_sku||""!=alg_bought_sku?$.ajax({url:"/catalog/recommendations/get/"+sku,method:"GET",headers:headerdata,data:ajax_data,dataType:"JSON",success:function(resp){resp.similar&&resp.similar.length>0?(bind_recommended_products_html("#algolia_similar",resp.similar),"FASHION"==vertical_code&&(bind_similar_products_popup_html("#similar_popup",resp.similar,vertical_code),$(".product-carousel").append('<div class="product-similar-cta"><button class="jm-btn small" id="fashion_similar_btn"><span><img class="jm-badge-icon" src="/assets/ds2web/jds-icons/similar-tag.svg" alt=""></span> Similar</button></div>'))):($("#similar_products_popup").remove(),$("#algolia_similar_sec").remove()),resp.bought&&resp.bought.length>0?bind_recommended_products_html("#alg_bought_together",resp.bought):$("#alg_bought_together_sec").remove()},error:function(){}}):($("#similar_prod_btn").remove(),$("#similar_products_popup").remove(),$("#algolia_similar_sec").remove(),$("#alg_bought_together_sec").remove())}}function bind_similar_products_popup_html(parent,products){let similiar_popop_html=products.map(product=>{let discount_pct=product.discount_pct,selling_price=product.selling_price,mrp=product.mrp,prod_vert=product.vertical_code,master_code=JSON.parse(localStorage.getItem("jio_region_codes")),vert_region_codes=master_code[prod_vert]?master_code[prod_vert]:[],store_code="",gtmDiv="";for(let p in vert_region_codes){let vcode=vert_region_codes[p];product.store_wise_mrp[vcode]&&product.store_wise_mrp[vcode].available&&(store_code=vcode)}if(product.store_wise_mrp[store_code]){let store_wise_mrp=product.store_wise_mrp[store_code];discount_pct=store_wise_mrp.discount_pt,selling_price=store_wise_mrp.price.toFixed(2),mrp=store_wise_mrp.mrp.toFixed(2),store_wise_mrp.weight_range&&""!=store_wise_mrp.weight_range&&(product.display_name+=" (Approx "+store_wise_mrp.weight_range+")")}let image_base=window.product_image_path;return image_url=image_base+product.image_url,"undefined"!=typeof GtmEventsDiv&&(gtmDiv=GtmEventsDiv("pdp_list",product,selling_price,i+1)),`<div class="similar-product">\n            <a href="${product.url_path}" class="similar-product-card-container">`+gtmDiv+` \x3c!-- Image Container --\x3e\n                <div class="similar-product-card-image-container">\n                    \x3c!-- Wishlist Button --\x3e\n                    <div class="similar-product-card-wishlist">\n                        <div class="jm-wishlist-btn large wishlist_btn" data-sku="${product.product_code}" id="wishlist_${product.product_code}"></div>\n                    </div>\n        \n                    <div class="similar-product-card-image">\n                        <img src="${image_url}" alt="${product.display_name}" onerror="this.src='/assets/global/jiomart-default-image-200x200.png'" />\n                    </div>\n                </div>\n        \n                \x3c!-- Product Details --\x3e\n                <div class="similar-product-card-details jm-mt-xxs">\n                    \x3c!-- similar-product-card-title --\x3e\n                    <div class="jm-body-xs line-clamp jm-fc-primary-grey-100">\n                        ${product.display_name}\n                    </div>\n        \n                    <div class="similar-product-card-price jm-mt-xxs">\n                        <span class="jm-body-xxs line-clamp jm-fc-primary-grey-100">&#8377;${selling_price}</span>\n                    </div>\n\n                    <div class="similar-product-card-offer jm-mt-xxs">\n                        ${selling_price!=mrp?`<span class="jm-body-xxs jm-mr-xxs jm-fc-primary-grey-60 line-through">\n                            &#8377;${mrp}\n                        </span>`:""}\n\n                        ${discount_pct>0?`<div class="jm-badge">\n                            ${discount_pct}% Off\n                        </div>`:""}\n                    </div>\n                </div>\n            </a>\n        </div>`}).join("");$(parent).html(similiar_popop_html),apply_wishlist("")}function bind_recommended_products_html(parent,products){let html="";for(i=0;i<products.length;i++){let product=products[i],discount_pct=product.discount_pct,selling_price=product.selling_price,mrp=product.mrp,prod_vert=product.vertical_code,master_code=JSON.parse(localStorage.getItem("jio_region_codes")),vert_region_codes=master_code[prod_vert]?master_code[prod_vert]:[],store_code="";for(let p in vert_region_codes){let vcode=vert_region_codes[p];product.store_wise_mrp[vcode]&&product.store_wise_mrp[vcode].available&&(store_code=vcode)}if(product.store_wise_mrp[store_code]){let store_wise_mrp=product.store_wise_mrp[store_code];discount_pct=store_wise_mrp.discount_pt,selling_price=store_wise_mrp.price.toFixed(2),mrp=store_wise_mrp.mrp.toFixed(2),store_wise_mrp.weight_range&&""!=store_wise_mrp.weight_range&&(product.display_name+=" ("+store_wise_mrp.weight_range+")")}let food_icon="";if(product.food_type){let food_type=product.food_type.toLowerCase();"green dot"==food_type?food_icon="icon-veg":"red dot"==food_type&&(food_icon="icon-nonveg")}let show_cart=!0;"FASHION"!=prod_vert&&"BEAUTY"!=prod_vert&&"WELLNESS"!=prod_vert&&"ELECTRONICS"!=prod_vert&&"FURNITURE"!=prod_vert||(show_cart=!1);let image_base=window.product_image_path;image_url=image_base+product.image_url,html+=`<div class="recommended-product-card-wrapper jm-mt-base">\n        <a href="${product.url_path}" class="recommended-product-card-container pdp_product_list">`,"undefined"!=typeof GtmEventsDiv&&(html+=GtmEventsDiv("pdp_list",product,selling_price,i+1)),html+=`<div class="recommended-product-card-image-container">\n                <div class="recommended-product-card-wishlist">\n                    <div class="jm-wishlist-btn large wishlist_btn" data-sku="${product.product_code}" id="wishlist_${product.product_code}" data-showtoast="no"></div>\n                </div>\n                <div class="recommended-product-card-image">\n                    <img src="${image_url}" alt="${product.display_name}" alt="${product.display_name}" onerror="this.src='/assets/global/jiomart-default-image-200x200.png'" />\n                </div>\n                ${""!=food_icon?`<div class="recommended-product-card-foodtype"><img src="/assets/ds2msite/jds-icons/${food_icon}.svg" alt="food type"/></div>`:""}\n            </div>\n    \n            <div class="recommended-product-card-details">\n                <div class="jm-body-xxs line-clamp jm-fc-primary-grey-80 display_name">\n                    ${product.display_name}\n                </div>\n    \n                <div class="recommended-product-card-price jm-mt-xxs">\n                    <div class="jm-body-xs-bold">&#8377;${selling_price}</div>\n                    <div class="price_section">\n                    ${selling_price!=mrp?`\n                        <span class="jm-body-xxs jm-fc-primary-grey-60 line-through">\n                            &#8377;${mrp}\n                        </span>`:""}\n                    ${discount_pct>0?`<span class="jm-badge">\n                            ${discount_pct}% OFF\n                        </span>`:""}\n                    </div>\n                </div>\n            </div>\n    \n            ${show_cart&&product.in_stock?`<div class="recommended-product-card-cta add jm-mt-xs" data-parentbtn-class="small secondary full-width jm-body-s-bold" data-parentbtn-text="Add" data-parentbtn-image="1" data-minusclass="secondary small jm-icon jm-mr-base" data-plusclass="secondary small jm-icon jm-ml-base" data-countclass="recommended-product-card-cta-qty">\n                <button class="jm-btn small secondary full-width jm-body-s-bold addtocartbtn" data-sku="${product.product_code}">\n                    Add\n                    <img class="jm-ml-xs" src="/assets/ds2msite/jds-icons/add-icon.svg" alt="" />\n                </button>\n            </div>`:""}\n        </a>\n    </div>`}$(parent).html(html),localStorage.getItem("jio_store_id")&&$(parent+" a").each((function(){let a_href=$(this).attr("href");if(-1===a_href.indexOf("?str_id=")){let str_id_str="?str_id="+localStorage.getItem("jio_store_id");$(this).attr("href",a_href+str_id_str)}})),$(parent+"_sec").show(),apply_wishlist(""),applyPlusMinusButton()}function get_product_price(){let sku=window.product_code,pincode=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(pincode=localStorage.getItem("nms_mgo_pincode")),$.ajax({url:"/catalog/productdetails/get/"+sku,method:"GET",headers:{pin:pincode},async:!1,dataType:"JSON",success:function(resp){if("success"==resp.status){let mrp=resp.data.mrp.toFixed(2),selling_price=resp.data.selling_price.toFixed(2),selling_price_format=selling_price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),mrp_format=mrp.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),region_actual_price=resp.data.region_actual_price,save=(resp.data.mrp-resp.data.selling_price).toFixed(2),discount_pct=resp.data.discount_pct,image_url=resp.data.image_url,tenant_ids=resp.data.tenant_ids,uom_price_compare=resp.data.uom_for_price,uom_unit_compare=resp.data.uom_for_unit,factor_price_compare=resp.data.factor_for_price_compare,teaser_tag=resp.data.teaser_tag,productJson={};resp.data.display_name&&""!=resp.data.display_name&&$("#pdp_product_name").html(resp.data.display_name);let avail_marts=["JIO","JIO_INSTA","JIO_WA","JIO_INSTA_WA"];for(resp.data.mart_availability&&-1!=avail_marts.indexOf(resp.data.mart_availability)||($("body").addClass("product-not-available"),$("#cart_section").remove(),$(".product-header-action-cta .wishlist_btn").remove(),$(".product-section").append('<section class="pin_not_available jm-bg-primary-grey-80 jm-mh-m jm-ta-center jm-pa-xs jm-border-radius-pill">\n                    <p class="jm-body-xxs jm-fc-white jm-ma-none">Product not available at the selected PIN code \x3c!-- <span class="jm-border-radius-pill jm-ml-xs jm-pa-xxs jm-border-primary-grey-40-vertical jm-border-primary-grey-40-horizontal">Change PIN Code</span> --\x3e </p></section>'),$(".dynamic_section").remove(),$("#delivery_section").remove(),$("#is_in_stock").text("Unavailable").addClass("jm-fc-light-feedback-error-50"),$("#prod_delivery_details").remove()),i=0;i<tenant_ids.length;i++)window.article_obj.tenant_ids.push(tenant_ids[i]);if(window.selling_price=selling_price,$("#emi_btn_content").length>0){let vertical_code=window.vertical_code,emi_status=$("#emi_status").val();"ELECTRONICS"==vertical_code&&1==emi_status&&call_emi_api("credit",0)}0==resp.data.visible_in_catalog&&$("#cart_section").remove();var region_style="";""!=region_actual_price&&null!=region_actual_price&&(region_actual_price=region_actual_price.toFixed(2)),0==ds2_pdp_lightning_label&&(region_actual_price="");let uom_price="",uom_unit="",factor_price="";if("1"==uom_attribute&&""!=uom_price_compare&&""!=uom_unit_compare&&""!=factor_price_compare&&null!=uom_price_compare&&null!=uom_unit_compare&&null!=factor_price_compare&&(uom_price=uom_price_compare,uom_unit=uom_unit_compare,factor_price=(selling_price*factor_price_compare).toFixed(2)),void 0!==teaser_tag&&teaser_tag.length>0)for(i=0;i<teaser_tag.length;i++)void 0!==teaser_tag[i]&&null!=teaser_tag[i]&&($(".jm-badge-popular").css("display","block"),$(".jm-badge-popular").append(`<span class="seller_msg" id="${[i]}" >${teaser_tag[i]}</span>`));if("A"==resp.data.availability_status||"I"==resp.data.availability_status){let max_qty=resp.data.max_qty_in_order,stock_qty=resp.data.stock_qty;stock_qty<max_qty&&(max_qty=stock_qty),max_qty<=0&&$("#cart_section").remove(),$("#price_section").html(`\n                        <div class="product-price jm-mb-xxs">\n                            ${selling_price==mrp?`${mrp_label}`:""}\n                            <span class="jm-heading-xxs" >&#8377;${selling_price_format}</span>\n                            ${selling_price==mrp?'<span class="jm-ml-xxs">(Incl. of all taxes)</span>':""}\n                            ${""!=factor_price&&""!=uom_price&&""!=uom_unit?`<span style="margin-left: 4px;"> (&#8377; ${factor_price}/${uom_price} ${uom_unit})</span>`:""}                            \t\t\t\t\t\n                            ${discount_pct>0?`<span class="jm-badge jm-ml-xs">${discount_pct}% Off</span>`:""}\n                        </div>\n                        ${selling_price!=mrp?`\n                        <div class="jm-body-xxs jm-fc-primary-grey-80 jm-mb-xxs">\n                        ${mrp_label}\n                            <span class="line-through">&#8377;${mrp_format}</span>\n                            <span class="jm-ml-xxs">(Incl. of all taxes)</span>\n                        </div>`:""}\n                    `),""!=region_actual_price&&($(".product-offer-limited-time-deal-wrapper").css({display:"block"}),$(".ds2msite_pdp_ltd").html(`<div class="jm-list-content-caption">\n                                <div class="jm-list-content-caption-text">\n                                    ${0!=ds2_pdp_lightning_label?`\n\t\t\t\t\t\t\t\t\t<span class="jm-body-xxs-bold">${ds2_pdp_lightning_label}:</span>\n                                    <span class="jm-fc-secondary-50 jm-body-xxs">\n\t\t\t\t\t\t\t\t\t<span id="timer" class="cd_timer_deal"> 14m 44s </span> left</span>`:""}\n                                </div>\n                            </div>\n\n                            <div class="jm-list-content-title">\n                                ${discount_pct>0?`<div class="jm-list-content-title-text jm-body-xxs jm-fc-light-sparkle-60 jm-pr-s">\n                                    Additional ${discount_pct}% Off\n                                </div>`:""}\n                                <div class="jm-body-xxs jm-fc-primary-grey-60 jm-ml-s">\n                                    Regular Price <span class="line-through"> &#8377; ${region_actual_price} </span>\n                                </div>\n                            </div>`)),$("#is_in_stock").text("In Stock")}else"S"!=resp.data.availability_status&&"T"!=resp.data.availability_status&&"R"!=resp.data.availability_status||($("#cart_section").remove(),$("#delivery_section").remove(),$("#is_in_stock").text("Unavailable").addClass("jm-fc-light-feedback-error-50"),$("#prod_delivery_details").remove());if("1"==window.preorder_status&&check_pre_order(resp.data),$("#cart_section").show(),$(".pdp_jio_loading").remove(),$(".product_availability").show(),""!=resp.data.tag_name){let tag_name=resp.data.tag_name;$("#pdp_tag").length>0?$("#pdp_tag").text(tag_name).show():$(".product-header-brand").append(`<div class="jm-badge jm-badge-popular jm-body-s-bold" id="pdp_tag">${tag_name}</div>`)}var gtmStatus;if(bind_pdp_variants(resp),$(".sizechart_div #size_chart_btn").length>0&&($("#variant_size").prepend($("#size_chart_btn").clone().addClass("active")),$(".sizechart_div #size_chart_btn").remove()),$(".product_details_gtm").length>0&&$(".product_details_gtm").attr("data-price",selling_price),"1"==document.getElementById("gtm_status").value&&resp.data.gtm_details&&null!=resp.data.gtm_details&&null!=resp.data.gtm_details.status&&1==resp.data.gtm_details.status){"undefined"!=typeof journeyDataLayer&&journeyDataLayer(),dataLayer.push({ecommerce:null});var custEmail=null!=localStorage.getItem("displayemail")?localStorage.getItem("displayemail"):"",custNew=null!=localStorage.getItem("new_customer")?localStorage.getItem("new_customer"):"",cityName=null!=localStorage.getItem("nms_mgo_city")?localStorage.getItem("nms_mgo_city").toUpperCase():"NA",pincode=null!=localStorage.getItem("nms_mgo_pincode")?localStorage.getItem("nms_mgo_pincode").toUpperCase():"NA",appinfo={},adid="";localStorage.getItem("jio_adparams")&&(appinfo=JSON.parse(localStorage.getItem("jio_adparams"))).Adid&&(adid=appinfo.Adid);var dimension19="FALSE",dimension20=null,dimension18=null,dimension21="RRL",dimension22=!1,position="",sku=resp.data.gtm_details.id;if($.isEmptyObject(window.searchKeyData)){var objectData=localStorage.getItem("nms_promo_tag");objectData&&$.each(JSON.parse(objectData),(function(itemIndex,itemElement){sku&&itemIndex==sku&&(itemElement.dimension19&&(dimension19=itemElement.dimension19),itemElement.dimension20&&(dimension20=itemElement.dimension20),itemElement.dimension18&&(dimension18=itemElement.dimension18),itemElement.dimension21&&(dimension21=itemElement.dimension21),itemElement.dimension22&&(dimension22=itemElement.dimension22),itemElement.position&&(position=itemElement.position))}))}else $.each(JSON.parse(window.searchKeyData),(function(itemIndex,itemElement){sku&&itemIndex==sku&&(itemElement.dimension19&&(dimension19=itemElement.dimension19),itemElement.dimension20&&(dimension20=itemElement.dimension20),itemElement.dimension18&&(dimension18=itemElement.dimension18),itemElement.dimension21&&(dimension21=itemElement.dimension21),itemElement.dimension22&&(dimension22=itemElement.dimension22),itemElement.position&&(position=itemElement.position))}));"undefined"!=typeof bannerPromoTag&&(bannerPromoTag(),null!=window.dimension18&&(dimension18=window.dimension18)),""!=resp.data.available_at_3p_seller&&(dimension22=resp.data.available_at_3p_seller),""!=resp.data.seller_name&&(dimension21=resp.data.seller_name),productJson={name:resp.data.gtm_details.name,id:resp.data.gtm_details.id,price:resp.data.gtm_details.price,brand:resp.data.gtm_details.brand,category:resp.data.gtm_details.category,dimension18:dimension18,dimension19:dimension19,dimension20:dimension20,dimension21:"RRL",dimension22:!1,dimension24:window.dimension24,dimension25:window.dimension25,dimension26:window.dimension26,dimension27:window.dimension27},""!=position&&(productJson.position=parseInt(position),$("#data-position").val(position)),""!=dimension21&&null!=dimension21&&"RIL"!=dimension21&&(productJson.dimension21=dimension21),""!=dimension22&&0!=dimension22&&null!=dimension22&&(productJson.dimension22="string"!=typeof dimension22||"1"!==dimension22||Boolean(parseInt(dimension22))),""!=user_id&&""!=custEmail?dataLayer.push({event:"ecom_productDetail",journey:window.journeyData,ecommerce:{detail:{products:[productJson]}},customer:{isLoggedIn:!0,id:user_id,email:$.md5(custEmail),new_customer:custNew,city:cityName},appinfo:appinfo,appinfo_adid:adid}):dataLayer.push({event:"ecom_productDetail",journey:window.journeyData,ecommerce:{detail:{products:[productJson]}},customer:{isLoggedIn:!1,city:cityName},appinfo:appinfo,appinfo_adid:adid})}resp.data.variants_extra_json&&(window.variants_extra_json=resp.data.variants_extra_json);var url=new Url,rating=$(".rating-content #average").html(),total_rating=$("#total_rating").html(),meta_desc=document.querySelector("meta[name=description]").content,brand_name="";$("#top_brand_name").length>0&&(brand_name=$("#top_brand_name").text().replace(/(\r\n|\n|\r)/gm,"").trim());var json_ld_obj={"@context":"http://schema.org/","@type":"Product",name:$("#pdp_product_name").html(),image:url.host+image_url,description:meta_desc,offers:{"@type":"Offer",price:selling_price,priceCurrency:"INR"},url:url.host+url.path,brand:{"@type":"Thing",name:brand_name},sku:$("#product_code").val()};parseInt(rating)>0&&(json_ld_obj.aggregateRating={"@type":"AggregateRating",ratingValue:rating,reviewCount:total_rating});const script=document.createElement("script");if(script.setAttribute("type","application/ld+json"),script.textContent=JSON.stringify(json_ld_obj),document.head.appendChild(script),("A"==resp.data.availability_status||"I"==resp.data.availability_status)&&resp.data.dsf_status&&1==resp.data.dsf_status&&"undefined"!=typeof doorstepFinanceEligibility){let call_dsf_api=!1;if(null!=localStorage.getItem("dsf_eligibility")){let dsf_expiry=localStorage.getItem("dsf_eligibility"),dsf_today=new Date,dsf_expiry_date=new Date(dsf_expiry);dsf_today.getTime()>dsf_expiry_date.getTime()&&(call_dsf_api=!0)}else call_dsf_api=!0;$("#doorstep_finance_content").show(),1==call_dsf_api&&doorstepFinanceEligibility(selling_price)}}else $("body").addClass("product-not-available"),$("#cart_section").remove(),$(".product-header-action-cta .wishlist_btn").remove(),$(".product-section").append('<section class="pin_not_available jm-bg-primary-grey-80 jm-mh-m jm-ta-center jm-pa-xs jm-border-radius-pill">\n                    <p class="jm-body-xxs jm-fc-white jm-ma-none">Product not available at the selected PIN code \x3c!-- <span class="jm-border-radius-pill jm-ml-xs jm-pa-xxs jm-border-primary-grey-40-vertical jm-border-primary-grey-40-horizontal">Change PIN Code</span> --\x3e </p></section>'),$("#is_in_stock").text("Unavailable at your location").addClass("jm-fc-light-feedback-error-50"),$("#prod_delivery_details").remove();$("#jiomart_fullpage_load").remove()},error:function(){$("body").addClass("product-not-available"),$("#cart_section").remove(),$(".product-header-action-cta .wishlist_btn").remove(),$(".product-section").append('<section class="pin_not_available jm-bg-primary-grey-80 jm-mh-m jm-ta-center jm-pa-xs jm-border-radius-pill">\n                    <p class="jm-body-xxs jm-fc-white jm-ma-none">Product not available at the selected PIN code \x3c!-- <span class="jm-border-radius-pill jm-ml-xs jm-pa-xxs jm-border-primary-grey-40-vertical jm-border-primary-grey-40-horizontal">Change PIN Code</span> --\x3e </p></section>'),$("#is_in_stock").text("Unavailable at your location").addClass("jm-fc-light-feedback-error-50"),$("#prod_delivery_details").remove()}})}function check_pre_order(prod){if(prod.pre_order&&!0===prod.pre_order_enabled){$("#pdp_tag").length>0?$("#pdp_tag").text("Pre Order").show():$(".product-header-brand").append('<div class="jm-badge jm-badge-popular" id="pdp_tag">Pre Order</div>');let pre_order=prod.pre_order,currentTime=(new Date).getTime();if(pre_order.pre_launch_date&&pre_order.start_date&&pre_order.end_date){let pre_launch_date,pre_launch_time,pre_launch_date_time=pre_order.pre_launch_date.split(" ")[0]+"T"+pre_order.pre_launch_date.split(" ")[1]+".000+05:30";pre_launch_date_time=new Date(pre_launch_date_time).getTime();let pre_launch_start_date,pre_launch_start_time,pre_launch_start_date_time=pre_order.start_date.split(" ")[0]+"T"+pre_order.start_date.split(" ")[1]+".000+05:30",pre_launch_start_date_time_stamp=new Date(pre_launch_start_date_time).getTime(),pre_launch_end_date,pre_launch_end_time,pre_launch_end_date_time=pre_order.end_date.split(" ")[0]+"T"+pre_order.end_date.split(" ")[1]+".000+05:30",pre_launch_end_date_time_stamp=new Date(pre_launch_end_date_time).getTime();if(pre_launch_end_date_time_stamp<=currentTime);else if(pre_launch_start_date_time_stamp<=currentTime&&pre_launch_end_date_time_stamp>=currentTime){let dispatch_date_format="";if(pre_order.dispatch_date&&null!=pre_order.dispatch_date){let pre_launch_dispatch_date=pre_order.dispatch_date.split(" ")[0],pre_launch_dispatch_time=pre_order.dispatch_date.split(" ")[1],pre_launch_dispatch_date_time,dispatch_date_time=new Date(pre_launch_dispatch_date+"T"+pre_launch_dispatch_time+".000+05:30"),hours=dispatch_date_time.getHours(),minutes=dispatch_date_time.getMinutes(),ampm=hours>=12?"PM":"AM";hours%=12,hours=hours||12,minutes=minutes<10?"0"+minutes:minutes;let strTime=hours+":"+minutes+" "+ampm;dispatch_date_format=dispatch_date_time.getDate()+"/"+(dispatch_date_time.getMonth()+1)+"/"+dispatch_date_time.getFullYear()+" "+strTime}$("#cart_section .product-footer-wrapper").html(`<div class="product-footer-item jm-mr-s"><p>${pre_order.message}</p><span>${dispatch_date_format}</span></div><div class="product-footer-item"><button type="button" title="ADD TO CART" class="toCart addtocartbtn prodbtn pre-order-btn jm-btn primary" data-sku="${prod.product_code}"> Pre-Order Now </button></div>`)}else if(pre_launch_date_time<=currentTime&&pre_launch_start_date_time_stamp>=currentTime){var monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let start_date_time=new Date(pre_launch_start_date_time),start_date_format=start_date_time.getDate()+"-"+monthNames[start_date_time.getMonth()]+"-"+start_date_time.getFullYear(),end_date_time=new Date(pre_launch_end_date_time),end_date_format=end_date_time.getDate()+"-"+monthNames[end_date_time.getMonth()]+"-"+end_date_time.getFullYear();$(".product-price-offer").prepend(`<div class="pdp_pre_order jm-mb-xs jm-body-xs jm-fc-primary-grey-80"><h2>Coming Soon!</h2><p>Pre orer will be available from ${start_date_format} to ${end_date_format}</p></div>`),$("#cart_section").remove(),!1===pre_order.price_visibility&&($("#price_section").remove(),$("#emi_btn_content").remove())}}}}function bind_pdp_variants(resp){if(resp.data.variants&&resp.data.variants.length>0){let variants=resp.data.variants,total_variants=variants.length,variants_html="";variants.map(variant=>{variants_html+=get_variant_html(variant,total_variants)}),$("#variant_holder").html(variants_html);let cartInfo=localStorage.getItem("cart_info");if(localStorage.getItem("jio_store_id")&&(cartInfo=localStorage.getItem("pickup_cart_info")),cartInfo){let cart_products=JSON.parse(cartInfo);if(cart_products.cart.lines){let products=cart_products.cart.lines,sku_val=window.product_code;for(var i=0;i<products.length;i++)if(products[i].product_code==sku_val){let elem;$(".variant-holder button[data-prodcode='"+sku_val+"']").addClass("active")}}}}}function get_variant_html(variant,total_variants){let type=variant.facet_id,html="";if("color"==type||"colour"==type)html+=`<section class="product-variant-color variant-holder container-mh jm-pv-base border-default" id="variant_${variant.facet_id}">\n            <div class="jm-heading-xxs jm-mb-xxs" id="variant_heading_${variant.facet_id}">${variant.facet_title}</div>\n            <div class="product-variant-color-list">`,variant.facet_values.map(facets=>{let img_url="",active_class="";1==variant.facet_values.length&&(active_class="active"),1==facets.current&&(active_class="active"),facets.additional_info&&facets.additional_info.swatch_image_url&&(img_url=window.product_image_path+"images/product/original/"+facets.additional_info.swatch_image_url),html+=`<div class="product-variant-color-list-item ${facets.current?"active":""} ${""==img_url?"color_name_text":""}">\n                <button class="jm-btn secondary jm-mb-xxs btn-variant-${variant.facet_id} ${active_class}" data-attr="${variant.facet_id}" data-url="/${facets.product_url}" data-prodcode="${facets.product_code}">\n                    ${""!=img_url?`<img class="product-variant-color-list-item-image" src="${img_url}" alt="${facets.value}" />`:facets.value}\n                </button>\n\n                \x3c!-- Color variant box --\x3e\n                \x3c!-- <div class="product-variant-color-list-item-color jm-mb-xxs" style="background-color: #066497;"></div> --\x3e\n                <div class="product-variant-color-list-item-name jm-body-xxs jm-mb-xxs line-clamp">${facets.value}</div>\n            </div>`}),html+="</div></section>";else{let url_obj,selected_size=new URL(window.location).searchParams.get("size"),all_size_disabled=!0,size_variant_available=!1;html+=`<section class="variant-holder container-mh jm-pv-base border-default" id="variant_${variant.facet_id}">\n                    <div class="jm-heading-xxs jm-mb-xs" id="variant_heading_${variant.facet_id}">${variant.facet_title}</div>\n                    <div class="product-size-button-list hide-scroll">`,variant.facet_values.map(facets=>{let disabled="",active_class="jm-fc-primary-grey-80";1==total_variants&&facets.current?active_class="active":"size"!=variant.facet_id&&facets.current&&(active_class="active"),"size"==variant.facet_id&&(size_variant_available=!0,selected_size&&facets.value==selected_size&&(active_class="active"),0==facets.status&&(disabled="disabled"),1==facets.status&&(all_size_disabled=!1)),1==variant.facet_values.length&&(active_class="active"),html+=`<div class="product-size-button-list-item">\n                <button class="jm-btn secondary small jm-fw-bold btn-variant-${variant.facet_id} ${active_class}" ${disabled} data-attr="${variant.facet_id}" data-url="/${facets.product_url}" data-prodcode="${facets.product_code}">\n                    ${facets.value}\n                </button>\n            </div>`}),html+="</div></section>",size_variant_available&&all_size_disabled&&$("#cart_section .addtocartbtn").prop("disabled",!0)}return html}function surveyCategories(responce=null){responce&&(window.feedback_categories=responce,window.feedback_categories.hasOwnProperty("status")&&window.feedback_categories.status&&"success"==window.feedback_categories.status&&window.feedback_categories.hasOwnProperty("data")&&window.feedback_categories.data&&window.feedback_categories.data.hasOwnProperty("child")&&window.feedback_categories.data.child&&$(window.feedback_categories.data.child).each((function(index,value){value.hasOwnProperty("id")&&""!=value.id&&value.hasOwnProperty("name")&&""!=value.name&&$(".feedback_categories").append("<li class='dropdown-item feedback-issue-list-item feedback_survey_category'  data-index='"+index+"' data-value='"+value.id+"' data-name='"+value.name+"'>"+value.name+"</li>")})))}function bind_deals_products_html(parent,parent_swipe,products,vertical_code,headers){var html="",bundled_product_code="",totalAmount=0,totalSellingAmount=0,totalSavings=0,totalAdditionalSavings=0,ItemsAvailable=0,Iterate=1,bundle_child_product="",bundle_parent_product="";if(bundle_parent_product=$(".otc-product-page #product_id").val(),products&&(ItemsAvailable=Object.keys(products).length),headers&&Object.keys(headers).length>0){headers.hasOwnProperty("title")&&null!=headers.title&&"-"!=headers.title&&(html+='<div class="jm-heading-xxs jm-mb-base">'+headers.title+"</div>"),html+='<div class="jm-mb-base">',html+='<div class="jm-list jm-ph-none jm-pv-xs">',headers.hasOwnProperty("subtitle")&&null!=headers.subtitle&&"-"!=headers.subtitle&&(html+='<div class="jm-list-prefix jm-mr-xs"> <div class="jm-list-prefix-icon"> <img class="icon" src="/assets/ds2msite/jds-icons/offer-icon.svg" alt="" /> </div> </div>',html+='<div class="jm-list-content"> <div class="jm-list-content-caption"> <div class="jm-list-content-caption-text jm-body-xxs-bold bestdeals_subtitle">'+headers.subtitle+"</div> </div> </div>"),html+="</div>",html+='<div class="accordian product-offer-bxgy-details">',html+='<div class="accordian-wrapper">',html+='<div class="accordian-outer jm-list jm-ph-none jm-pv-xxs">',html+='<div class="jm-list-prefix jm-mr-xs"> <img class="productImage" src="./images/bxgy-option-panel.jpg" width="50" height="50" alt="" /> </div>',html+='<div class="jm-list-content"> ',headers.hasOwnProperty("tagline")&&null!=headers.tagline&&"-"!=headers.tagline&&(html+='<div class="jm-list-content-caption"> <div class="jm-list-content-caption-title jm-body-xxs-bold">'+headers.tagline+' <span class="productName"></span></div> </div>'),ItemsAvailable>0&&"#pdp_best_deals_products"==parent&&(html+=ItemsAvailable>1?'<div class="jm-list-content-title jm-body-xxs jm-mt-xxs"> <span class="jm-fc-light-feedback-success-50 prod_count">'+ItemsAvailable+' items available.</span> <span class="jm-fc-primary-grey-80"> Add any one item </span> </div>':'<div class="jm-list-content-title jm-body-xxs jm-mt-xxs"> <span class="jm-fc-light-feedback-success-50 prod_count">'+ItemsAvailable+" item available.</span> </div>"),html+="</div>",html+="</div>",html+="</div>",html+='<div id="bxgy1" class="accordian-inner collapse show">',html+=`<div class="jm-ph-xxs product-card jm-mv-xxs ${parent_swipe} swiper-container products_swipe">`,html+='<div class="swiper-wrapper">',$.each(products,(function(i,product){bundle_child_product=product.product_code,bundled_product_code+=Iterate==ItemsAvailable?product.product_code:product.product_code+",";var discount_pct=product.discount_pct,selling_price=product.selling_price,mrp=product.mrp,save=0,promotionOffer={},promotion_offer_value="",P_DISCPCT=0,P_FORAMT=0,P_DISCAMT=0;if(1==product.mcat_api_status&&(discount_pct=product.discount_pct,selling_price=product.selling_price.toFixed(2),save=((mrp=product.mrp.toFixed(2))-selling_price).toFixed(2)),product.hasOwnProperty("offer_details")&&product.offer_details&&(promotionOffer=product.offer_details),promotionOffer.hasOwnProperty("offer_type")&&null!=promotionOffer.offer_type){if("P_DISCPCT"==promotionOffer.offer_type){var pctDiscount=promotionOffer.offer_value.replace("%","").replace(" ","").split("pct:");pctDiscount&&pctDiscount[1]&&(P_DISCPCT=parseInt(pctDiscount[1]),totalAdditionalSavings+=selling_price*(P_DISCPCT/100))}"P_DISCAMT"==promotionOffer.offer_type&&(P_DISCAMT=parseInt(promotionOffer.offer_value.replace(" ","")),totalAdditionalSavings+=P_DISCAMT),"P_FORAMT"==promotionOffer.offer_type&&(P_FORAMT=parseInt(promotionOffer.offer_value.replace(" ","")),totalAdditionalSavings+=P_FORAMT)}null!=mrp&&(totalAmount+=parseFloat(mrp)),null!=selling_price&&(totalSellingAmount+=parseFloat(selling_price)),null!=save&&(totalSavings+=parseInt(save)),html+='<div class="product-card-wrapper swiper-slide jm-mv-xs promotion_product_'+i+'" data-promoId="'+i+`" id="item_${parent_swipe}_${product.product_code}_${i}">`,product.hasOwnProperty("add_on_service")&&null!=product.add_on_service&&(html+=product.add_on_service),html+=`<a data-objid="${product.product_code}" href="${window.location.origin+"/"+product.url_path}" title="${product.display_name}" class="product-card-container home_ripple">`;var food_class="",food_type,food_type;1==product.mcat_api_status?product.hasOwnProperty("json_ext")&&product.json_ext.hasOwnProperty("food_type")&&null!=product.json_ext.food_type&&null!=product.json_ext.food_type&&("green dot"==(food_type=product.json_ext.food_type.toLowerCase())?food_class="text-veg":"red dot"==food_type?food_class="text-nonveg":"black cross"==food_type&&(food_class="text-nonedible")):product.food_type&&("green dot"==(food_type=product.food_type.toLowerCase())?food_class="text-veg":"red dot"==food_type?food_class="text-nonveg":"black cross"==food_type&&(food_class="text-nonedible"));var image_base=window.product_image_path;1==product.mcat_api_status?product.hasOwnProperty("image_url")&&product.image_url&&(image_url=product.image_url):image_url=image_base+product.image_url,html+=`<span class="food_type_sec"><span class="${food_class}"></span></span>`,1==product.mcat_api_status?"undefined"!=typeof GtmEventsDiv&&(html+=GtmEventsDiv("pdp_list",product,selling_price,0,!0)):"undefined"!=typeof GtmEventsDiv&&(html+=GtmEventsDiv("pdp_list",product,selling_price)),html+='<div class="product-card-image-container">',html+='<div class="product-card-header-cta">',html+='<div class="jm-btn small primary success jm-body-xxs is_cart_status"><img  class="jm-mr-xxs" src="/assets/ds2msite/jds-icons/check-icon.svg" alt="" /> <span class="jm-fc-light-feedback-success-80">  In Cart </span> </div>',html+="</div>",html+='<div class="product-card-image">',html+=`<img class="product-image-photo" src="${image_url}" alt="${product.display_name}" onerror="this.src='/assets/global/jiomart-default-image-200x200.png'" />`,html+="</div>",html+="</div>",html+='<div class="product-card-details">',html+=`<div class="jm-body-xxs line-clamp jm-fc-primary-grey-80">${product.display_name}</div>`,selling_price>0&&(html+='<div class="product-card-price jm-mv-xxs">',html+=`<div class="jm-body-xs-bold jm-fc-primary-grey-100 final_price"> &#8377;${selling_price} </div>`,html+='<div class="jm-mt-xxs">',mrp>selling_price&&(html+=`<span class="jm-body-xxs jm-fc-primary-grey-60 line-through price"> &#8377;${mrp} </span>`),discount_pct>0&&(html+=`<span class="jm-badge"> ${discount_pct}% OFF </span>`),html+="</div>","#pdp_best_deals_products"==parent&&(P_DISCPCT>0&&(html+='<div class="jm-fc-light-feedback-success-50 jm-body-xxs jm-mt-xxs additional_txt"> Extra '+P_DISCPCT+"% Off </div>"),P_DISCAMT>0&&(html+='<div class="jm-fc-light-feedback-success-50 jm-body-xxs jm-mt-xxs additional_txt"> Extra ₹'+P_DISCAMT+" Off </div>"),P_FORAMT>0&&(html+='<div class="jm-fc-light-feedback-success-50 jm-body-xxs jm-mt-xxs additional_txt"> Extra ₹'+P_FORAMT+" Off </div>")),html+="</div>"),html+="</div>","#pdp_best_deals_products"==parent&&(product.mcat_api_status,"A"==product.availability_status&&(html+='<div class="product-card-cta add jm-mt-xxs cart_btn"  data-cartType="best">',html+=`<button class="jm-btn small secondary full-width jm-body-s-bold jm-jc-center addtocartbtn best_cart" data-promosku="${product.product_code}" data-sku="${product.product_code}"> Add To Cart </button>`,html+="</div>")),html+="</a>",html+="</div>",Iterate<ItemsAvailable&&("#pdp_best_deals_products"==parent&&(html+='<div class="product-card-separator">',html+='<div class="jm-fc-primary-grey-60">OR</div>',html+="</div>"),"#pdp_bundle_deals_products"==parent&&(html+='<div class="product-card-separator">',html+='<img class="icon" src="/assets/ds2web/jds-icons/add-grey-icon.svg" alt="" />',html+="</div>")),Iterate++})),html+="</div>",html+="</div>","#pdp_bundle_deals_products"==parent&&(html+='<div class="jm-list product-cart deal jm-mb-xs jm-ph-xxs">',html+='<div class="jm-list-content jm-mt-xs">',totalSellingAmount>0&&(html+='<div class="jm-body-s-bold"> &#8377;'+totalSellingAmount+"</div>"),totalAmount>0&&(html+='<div class="jm-body-xs jm-fc-primary-grey-80 line-through"> &#8377;'+totalAmount+"</div>"),totalSavings>0&&(html+='<div class="jm-body-xxs-bold jm-fc-light-feedback-success-50"> Total Savings &#8377;'+totalSavings+"</div> "),totalAdditionalSavings>0&&(html+='<div class="jm-body-xxs-bold jm-fc-light-feedback-success-50 additional_offer_price">Additional '+totalAdditionalSavings.toFixed(2)+" Rs Off with this deal.</div>"),html+="</div>",html+='<div class="jm-list-suffix jm-jc-end cart_btn" data-cartType="bundle">',html+=`<button class="jm-btn primary jm-body-s-bold small full-width jm-jc-center toCart addtocartbtn"  data-parent="${bundle_parent_product}" data-promosku="${bundle_child_product}" data-sku="`+bundled_product_code+'" >',html+=ItemsAvailable>1?'<span class="txt_btn">Add '+ItemsAvailable+" Items</span>":'<span class="txt_btn">Add '+ItemsAvailable+" Item</span>",html+="</button>",html+="</div>",html+="</div>"),html+="</div>",html+="</div>",$(parent).html(html),$(parent).closest(".promo_wrapper_content").addClass("container-mh jm-pt-m border-default jm-cursor-default").show(),$(parent).find(".productName").length>0&&$(".product-section #pdp_product_name")&&null!=$(".product-section #pdp_product_name").text()&&""!=$(".product-section #pdp_product_name").text()&&$(parent).find(".productName").text($(".product-section #pdp_product_name").text()),$(parent).find(".productImage").length>0&&$(".product-media .figure[data-index='0']").length>0&&$(parent).find(".productImage").attr("src",$(".product-media .figure[data-index='0']").find("img").attr("src")),localStorage.getItem("jio_store_id")&&$(parent+" a").each((function(){var a_href=$(this).attr("href");if(-1===a_href.indexOf("?str_id=")){var str_id_str="?str_id="+localStorage.getItem("jio_store_id");$(this).attr("href",a_href+str_id_str)}})),$(parent+"_sec").show();var swiper=new Swiper("."+parent_swipe,{slidesPerView:"auto",spaceBetween:0,on:{slideChangeTransitionEnd:function(){var gtmStatus="0";$("#gtm_status").length>0&&(gtmStatus=$("#gtm_status").val()),"1"==gtmStatus&&$(this.slides).each((function(index,element){if(1==isSlideInViewport(element)){var index=$($(element).closest(".swiper-container").find(".swiper-slide")).index($(element).closest(".swiper-slide")),slideId="";if($(element).attr("id")&&(slideId=$(element).attr("id")),""!=slideId&&-1===$.inArray(slideId,window.slideExists)){var type="product";window.slideExists.push(slideId),SwiperDataLayer(element,index,type)}}}))}}});applyPlusMinusButton(parent)}}function getPromoAddonTotal(){var total_amount=parseInt(0);$("#elec_promo_addon_dialog .promo_ext_warranty_sku:checked").length>0&&(total_amount+=parseFloat($("#elec_promo_addon_dialog .promo_ext_warranty_sku:checked").attr("data-price"))),$("#elec_promo_addon_dialog .promo_add_on_sku:checked").each((function(){total_amount+=parseFloat($(this).attr("data-price"))})),total_amount=total_amount.toFixed(2),$("#elec_promo_addon_dialog .promo_add_on_total_amount").html("&#8377;"+total_amount)}window.inventory_extra_json={},window.onload=function(){$("#jiomart_fullpage_load").remove(),$("body").removeClass("pdp_overflow_hidden"),setTimeout(()=>{$(".pdp-more-details").each((function(index,btn){let target=$(btn).attr("data-target"),height;$(target).height()>=250&&$(this).show()}))},500)},$(document).ready((function(){if(apply_wishlist(window.product_code),$("#copy_alt_sku").length>0){let sku_clipboard;new ClipboardJS("#copy_alt_sku").on("success",(function(e){notify("Copied!","success")}))}if(0==window.available_at_3p_seller&&$(".pdp_feedback_form").show(),$("body").hasClass("pdp_overflow_hidden")&&setTimeout((function(){$("#jiomart_fullpage_load").remove(),$("body").removeClass("pdp_overflow_hidden")}),200),$("#prod_rel_pincode").length>0){let pincode=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(pincode=localStorage.getItem("nms_mgo_pincode")),$("#prod_rel_pincode").val(pincode)}var swiper=new Swiper(".similar_products_swiper",{slidesPerView:"auto",spaceBetween:0,on:{slideChangeTransitionEnd:function(){var gtmStatus="0";$("#gtm_status").length>0&&(gtmStatus=$("#gtm_status").val()),"1"==gtmStatus&&$(this.slides).each((function(index,element){if(1==isSlideInViewport(element)){var index=$($(element).closest(".swiper-container").find(".swiper-slide")).index($(element).closest(".swiper-slide")),slideId="";if($(element).attr("id")&&(slideId=$(element).attr("id")),""!=slideId&&-1===$.inArray(slideId,window.slideExists)){var type="product";window.slideExists.push(slideId),SwiperDataLayer(element,index,type)}}}))}}}),swiper=new Swiper(".bought_together_swiper",{slidesPerView:"auto",spaceBetween:0,on:{slideChangeTransitionEnd:function(){var gtmStatus="0";$("#gtm_status").length>0&&(gtmStatus=$("#gtm_status").val()),"1"==gtmStatus&&$(this.slides).each((function(index,element){if(1==isSlideInViewport(element)){var index=$($(element).closest(".swiper-container").find(".swiper-slide")).index($(element).closest(".swiper-slide")),slideId="";if($(element).attr("id")&&(slideId=$(element).attr("id")),""!=slideId&&-1===$.inArray(slideId,window.slideExists)){var type="product";window.slideExists.push(slideId),SwiperDataLayer(element,index,type)}}}))}}}),swiper=new Swiper(".similar-product-swipe",{slidesPerView:4,spaceBetween:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChangeTransitionEnd:function(){var gtmStatus="0";$("#gtm_status").length>0&&(gtmStatus=$("#gtm_status").val()),"1"==gtmStatus&&$(this.slides).each((function(index,element){if(1==isSlideInViewport(element)){var index=$($(element).closest(".swiper-container").find(".swiper-slide")).index($(element).closest(".swiper-slide")),slideId="";if($(element).attr("id")&&(slideId=$(element).attr("id")),""!=slideId&&-1===$.inArray(slideId,window.slideExists)){var type="product";window.slideExists.push(slideId),SwiperDataLayer(element,index,type)}}}))}}}),swiper=new Swiper(".product-carousel-swiper",{loop:!1,slidesPerView:1.15,spaceBetween:8,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0}});if($("#prod_delivery_details").length>0){let price=window.selling_price,vertical_code=window.vertical_code;$.ajax({url:domain_url+"catalog/review/get_delivery_message",type:"GET",data:{price:price,vertical:vertical_code,store:"2"},dataType:"HTML",success:function(resp){$("#prod_delivery_details").html(resp)},error:function(){}})}let rating_star=$("#pdp_rating_star").attr("data-star");$("#pdp_rating_star").starRating({totalStars:5,initialRating:rating_star,useGradient:!1,readOnly:!0,starShape:"rounded",starSize:25,emptyColor:"#E0E0E0",activeColor:"#EBBC17"}),$("#pdp_write_star").starRating({totalStars:5,initialRating:0,minRating:1,disableAfterRate:!1,readOnly:!1,starShape:"rounded",starSize:25,emptyColor:"#B5B5B5",ratedColor:"#25AB21",hoverColor:"#25AB21",callback:function(currentRating,$el){$("#rating_value").val(currentRating)}})})),$("#pdp_view_categories").click((function(ev){if(ev.preventDefault(),$("#category_bottom_sheet").addClass("jm-bottomsheet-visible"),"undefined"!=typeof onVisibilty&&onVisibilty("show"),$("body").addClass("disable-scroll jm-modal-open"),"false"==$(this).attr("data-loaded")){let ver_cat_id=$("#vertical_cat_id").val(),found=!1;if(localStorage.getItem("jio_category_tree")){let data,resp=JSON.parse(localStorage.getItem("jio_category_tree")).find(cat=>cat.id===parseInt(ver_cat_id));resp&&(found=!0,bind_pdp_category_tree(resp))}if(0==found){var vertical_lc,ajax_url="/catalog/categorytree/get_tree/"+window.vertical_code.toLowerCase();$.ajax({url:ajax_url,data:{},headers:{pin:localStorage.getItem("nms_mgo_pincode"),catid:ver_cat_id},dataType:"JSON",success:function(resp){bind_pdp_category_tree(resp)},error:function(){}})}}})),$(document).on("click","#fashion_similar_btn",(function(){$("#similar_products_popup").addClass("jm-bottomsheet-visible"),$("body").addClass("disable-scroll jm-modal-open")})),$(document).on("click","#btn_close_similar_popup",(function(){$("#similar_products_popup").removeClass("jm-bottomsheet-visible"),$("body").removeClass("disable-scroll jm-modal-open")})),$(document).on("click",".pdp-more-details",(function(){var target=$(this).attr("data-target");if("undefined"!=typeof PurelyGtmEvents&&$("body").hasClass("otc-product-page")){var event="event_pdp_action",category="pdp",product_ID="",rating="",action="",label="";"#pdp_description"==target&&$(target).length>0&&$(target).hasClass("expand-content")&&(action="know more clicked",label="pdp_know_more_description_clicked"),"#pdp_product_information"==target&&$(target).length>0&&$(target).hasClass("expand-content")&&(action="know more clicked",label="pdp_know_more_product_info_clicked"),$("#product_id").length>0&&(product_ID=$("#product_id").val()),""!=label&&PurelyGtmEvents(event,"pdp",action,label,product_ID,"")}})),$(document).on("click","#check_availablility",(function(){$("#pin_success_msg").html(""),$("#cs_popup").modal("show")})),$(document).on("click","#btn_write_review",(function(ev){if("0"!=localStorage.getItem("userid")&&null!=localStorage.getItem("userid"))ev.preventDefault(),$("#review_product").trigger("reset"),$("#review_product").data("validator").resetForm(),$("#pdp_write_star").starRating("setRating",0),$("#rating_value").val(0),$(".j-field").removeClass("error error-input-anim"),$("#write_review_popup").addClass("jm-page-bottomsheet-visible"),$("body").addClass("disable-scroll jm-modal-open"),show_hide_app_header(!1);else{ev.preventDefault(),ev.stopPropagation();var url,path=(new Url).path;localStorage.setItem("redirectUrl",path),window.location.href="/customer/account/login"}})),$(document).on("click","#close_write_review",(function(ev){ev.preventDefault(),$("#write_review_popup").removeClass("jm-page-bottomsheet-visible"),$("body").removeClass("disable-scroll jm-modal-open"),show_hide_app_header(!0)})),$.validator.addMethod("required-rating",(function(value){return!!parseInt(value)}),"Please select your rating!"),$.validator.addMethod("required-name",(function(value){return!!$.trim(value)}),"Please enter your Name!"),$.validator.addMethod("required-title",(function(value){return!!$.trim(value)}),"Please enter a Title!"),$.validator.addMethod("required-detail",(function(value){return!!$.trim(value)}),"Please enter a Review!"),$("#review_product").validate({ignore:[],errorElement:"div",errorClass:"field-error",errorPlacement:function(error,element){$(element).prev().html(error),$(element).parent().addClass("error error-input-anim")},highlight:function(element,errorClass,validClass){$(element).parent().addClass("error error-input-anim")},unhighlight:function(element,errorClass,validClass){$(element).parent().removeClass("error error-input-anim")},submitHandler:function(form){var api_url=$("#mstar_api_baseurl").val();$.ajax({url:api_url+"entity/customer/get_details",method:"GET",data:{},headers:{userid:localStorage.getItem("userid"),authtoken:localStorage.getItem("authtoken")},dataType:"JSON",success:function(resp){resp.status&&"success"==resp.status?($("#review_product").find("#customer_id").val(localStorage.getItem("userid")),$.ajax({url:domain_url+"catalog/review_add/add",type:"POST",data:$("#review_product").serialize(),dataType:"JSON",success:function(resp){$("#write_review_popup").removeClass("jm-page-bottomsheet-visible"),$("body").removeClass("disable-scroll jm-modal-open"),show_hide_app_header(!0),"success"==resp.status?notify(resp.message,"success"):notify(resp.message,"error"),$("#review_product").trigger("reset"),$("#review_product").data("validator").resetForm(),$("#pdp_write_star").starRating("setRating",0),$("#rating_value").val(0)},error:function(){$("#write_review_popup").removeClass("jm-page-bottomsheet-visible"),notify("Unable to connect to server. Try again later!","error"),$("body").removeClass("disable-scroll jm-modal-open"),show_hide_app_header(!0)}})):($("#write_review_popup").removeClass("jm-page-bottomsheet-visible"),notify("Please login to post your review.","error"),$("body").removeClass("disable-scroll jm-modal-open"),show_hide_app_header(!0))},error:function(){$("#write_review_popup").removeClass("jm-page-bottomsheet-visible"),notify("Unable to connect to server. Try again later!","error"),$("body").removeClass("disable-scroll jm-modal-open"),show_hide_app_header(!0)}})}}),$(".variant_elem").change((function(){var url=$(this).val();location.href="/"+url})),$(document).on("input","#prod_rel_pincode",(function(){$("#pdp_deli_msg").html(""),$("#pdp_deli_input_holder").removeClass("input-has-success-text").removeClass("error error-input-anim")})),$("#prod_pin_form").submit((function(ev){ev.preventDefault();var pincode=$("#prod_rel_pincode").val(),pinregex,valid=/^[0-9]{6}$/.test(pincode);if($("#detect_location_msg").text(""),""==pincode)$("#pdp_deli_msg").html('<div class="field-error">Enter your pincode</div>'),$("#pdp_deli_input_holder").removeClass("input-has-success-text").addClass("error error-input-anim");else if(valid){var pincode_api=window.fynd_api_url,phone_no="0";if(0!=localStorage.getItem("userid")&&null!=localStorage.getItem("userid")){var authtoken=localStorage.getItem("authtoken"),userid=localStorage.getItem("userid"),domain_url,get_user_api=$("#mstar_api_baseurl").val()+"entity/customer/get_details";$.ajax({url:get_user_api,data:{},headers:{userid:userid,authtoken:authtoken},method:"GET",dataType:"JSON",async:!1,success:function(resp){"success"==resp.status&&resp.result.your_details.mobile_no&&(phone_no=resp.result.your_details.mobile_no)},error:function(){}})}var lat=parseFloat(0),lon=parseFloat(0),head_pin;if(localStorage.getItem("nms_mgo_pincode")!=pincode){var mstar_pin_api=$("#mst_api_cart_pin_baseurl").val();$.ajax({url:mstar_pin_api+"pin/"+pincode,method:"GET",dataType:"JSON",async:!1,success:function(resp){if("success"==resp.status){var result=resp.result,master_codes=result.master_codes,supported=!1;for(vertical in master_codes)null!=master_codes[vertical]&&(supported=!0);if(1==supported){var lat=0,lon=0;result.lat&&0!=result.lat&&(lat=result.lat,localStorage.setItem("jio_addr_lat",lat)),result.lon&&0!=result.lon&&(lon=result.lon,localStorage.setItem("jio_addr_lon",lon)),0!=lat&&0!=lon||getLatLonAPI(pincode)}}},error:function(){var lat=0,lon=0;localStorage.setItem("jio_addr_lat",0),localStorage.setItem("jio_addr_lon",0)}})}localStorage.getItem("jio_addr_lat")&&(lat=parseFloat(localStorage.getItem("jio_addr_lat"))),localStorage.getItem("jio_addr_lon")&&(lon=parseFloat(localStorage.getItem("jio_addr_lon")));var ajax_data={identifier:create_UUID(),to_pincode:pincode,customer_details:{phone_number:phone_no,pincode:pincode,coordinates:{lat:lat,long:lon}},articles:[window.article_obj]};void 0!==window.pre_order&&(ajax_data.articles[0].pre_order=window.pre_order,ajax_data.articles[0].procurement_date=window.procurement_date),localStorage.getItem("jio_store_id")&&(ajax_data.pickup_store_id=localStorage.getItem("jio_store_id")),$.ajax({url:pincode_api,type:"POST",dataType:"JSON",data:JSON.stringify(ajax_data),headers:{"X-OMS-Application-ID":atob(window.fynd_app_id),"X-Application-Token":atob(window.fynd_token)},contentType:"application/json",success:function(resp){if(1==resp.success){if(resp.articles[0]){var expected_del=resp.shipments[0].display_message;$("#pdp_deli_msg").html(`<div class="field-success"><span><img class="jm-badge-icon" src="/assets/ds2msite/jds-icons/ic_success_colored.svg" alt=""></span>${expected_del}</div>`),$("#pdp_deli_input_holder").removeClass("error error-input-anim").addClass("input-has-success-text")}}else{var message=resp.error.message;$("#pdp_deli_msg").html(`<div class="field-error"><span><img class="jm-badge-icon" src="/assets/ds2msite/jds-icons/invalid-icon.svg" alt=""></span> ${message}</div>`),$("#pdp_deli_input_holder").removeClass("input-has-success-text").addClass("error error-input-anim")}},error:function(xhr,status,error){var resp=xhr.responseJSON;$("#pdp_deli_msg").html('<div class="field-error"><span><img class="jm-badge-icon" src="/assets/ds2msite/jds-icons/invalid-icon.svg" alt=""></span> Unable to fetch delivery details</div>'),$("#pdp_deli_input_holder").removeClass("input-has-success-text").addClass("error error-input-anim")}})}else $("#pdp_deli_msg").html('<div class="field-error"><span><img class="jm-badge-icon" src="/assets/ds2msite/jds-icons/invalid-icon.svg" alt=""></span> Invalid pincode</div>'),$("#pdp_deli_input_holder").removeClass("input-has-success-text").addClass("error error-input-anim")})),function($){$.fn.antiScroll=function(attribute){return this.each((function(){$(this).click((function(){if(-1===$(this).attr(attribute).indexOf("#")||-1!==$(this).attr(attribute).indexOf("#sy-")){var currentHref=$(this).attr(attribute);-1!==currentHref.indexOf("#sy-")&&(currentHref=currentHref.replace(/#sy-[0-9]*/g,"")),$(this).attr(attribute,currentHref+"#sy-"+$(window).scrollTop())}}))}))},$(document).ready((function(){if(-1!==location.href.indexOf("#sy-")){var scrollPos=location.href.split("#sy-").pop();$(window).scrollTop(scrollPos)}$(".sizes-list a").antiScroll("href"),$(".sizes-list button").antiScroll("data-url")}))}(jQuery),$(document).ready((function(){get_product_price(),get_recommendations(),$("#social-share-button").click((function(){var shareStatus=!1;if(null!=localStorage.getItem("nms_refer_lite")&&null!=localStorage.getItem("nms_refer_lite")&&"jiomartapp"==localStorage.getItem("nms_refer_lite")&&"undefined"!=typeof app_share){var text="";null!=document.title&&""!=document.title&&(text+=document.title),text+=" "+window.location.href,shareStatus=!0,app_share(text)}if(0==shareStatus)if(navigator.share)try{navigator.share({title:"Check this out At Jiomart",url:""}).then(()=>{console.log("Thanks for sharing!")})}catch(e){console.log(console.error)}else isModalOpen("#social-share-dialog","jm-bottomsheet-visible")})),$("#social-close-button").click((function(){isModalClose("#social-share-dialog","jm-bottomsheet-visible")}))})),$(window).on("load",(function(){if("1"==window.promotion_call_status){var sku=$("#product_id").val(),verticalCode=$("#vertical_code").val(),zipcode=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(zipcode=localStorage.getItem("nms_mgo_pincode"));var option_code="",headerdata={pin:zipcode,"vertical-code":verticalCode,"option-code":""};localStorage.getItem("jio_store_id")&&(headerdata.pickupstore=localStorage.getItem("jio_store_id")),$.ajax({url:domain_url+"catalog/promotions/"+sku,method:"GET",data:{},headers:headerdata,dataType:"JSON",success:function(resp){if("success"==resp.status){if(resp.promotions.length>0){for(i=0;i<resp.promotions.length;i++){let promo_html=resp.promotions[i];$("#pdp_bxgy_promotion").append(promo_html)}$("#pdp_bxgy_promotion").show()}else $("#pdp_bxgy_promotion").remove();resp.hasOwnProperty("best_deals_promo")&&null!=resp.best_deals_promo&&(resp.best_deals_promo.hasOwnProperty("bsdl")&&Object.keys(resp.best_deals_promo.bsdl).length>0&&resp.best_deals_promo.hasOwnProperty("bsdl_header")&&Object.keys(resp.best_deals_promo.bsdl_header).length>0&&resp.best_deals_promo.bsdl_header.hasOwnProperty("status")&&"1"==resp.best_deals_promo.bsdl_header.status&&bind_deals_products_html("#pdp_best_deals_products","pdp_best_deals",resp.best_deals_promo.bsdl,verticalCode,resp.best_deals_promo.bsdl_header),resp.best_deals_promo.hasOwnProperty("bundle")&&Object.keys(resp.best_deals_promo.bundle).length>0&&resp.best_deals_promo.hasOwnProperty("bundle_header")&&Object.keys(resp.best_deals_promo.bundle_header).length>0&&resp.best_deals_promo.bundle_header.hasOwnProperty("status")&&"1"==resp.best_deals_promo.bundle_header.status&&bind_deals_products_html("#pdp_bundle_deals_products","pdp_bundle_deals",resp.best_deals_promo.bundle,verticalCode,resp.best_deals_promo.bundle_header))}},error:function(){}})}})),$(document).on("click","#promotions_short_holder",(function(){$("html, body").animate({scrollTop:$("#promotion_content_holder").offset().top-100},1e3)})),$(document).ready((function(){if($(".pdp_feedback_form").length>0){$(".terms_error,.reported_issue_error").hide(),$("#reported_issue-error, #brief_note-error, #terms-error").remove(),$("#feedback_report_popup").find(".j-field").removeClass("error"),$("#feedback_report_popup").find(".j-field").removeClass("error-input-anim"),$("#reported_issue").val("").attr("data-value","").attr("data-name","").attr("data-index","");var name="";localStorage.getItem("displayname")&&(name=localStorage.getItem("displayname"));var email="";localStorage.getItem("displayemail")&&(email=localStorage.getItem("displayemail")),$(".pdp_feedback_form #fullname").val(name),$(".pdp_feedback_form #email").val(email),$.validator.addMethod("Required-feedback",(function(value){return!!value}),"Please Enter Brief Note!"),$.validator.addMethod("validate-alphanumericspace",(function(a){var b;return!!/^[0-9a-zA-Z\-.,?&@%!()'\"\s ]+$/.test(a)}),"Your Brief Note must contain only alphabets and numbers!"),$("#report_feedback").validate({ignore:"",errorElement:"div",errorClass:"form_error field-error",rules:{reported_issue:"required",terms:"required"},messages:{reported_issue:" Please Select Issue Type",terms:"Please agree with the Terms & Conditions"},success:function(label,element){$(element).removeClass("error"),$(element).removeClass("error-input-anim"),"terms"==$(element).attr("name")&&($(".terms_error").closest(".j-field").removeClass("error"),$(".terms_error").closest(".j-field").removeClass("error-input-anim")),"reported_issue"==$(element).attr("name")&&($(".reported_issue_error").closest(".j-field").removeClass("error"),$(".reported_issue_error").closest(".j-field").removeClass("error-input-anim"))},errorPlacement:function(error,element){"terms"==element.attr("name")?($(".terms_error").append(error),$(".terms_error").show(),$(".terms_error").closest(".j-field").addClass("error error-input-anim")):"reported_issue"==element.attr("name")?($(".reported_issue_error").append(error),$(".reported_issue_error").show(),$(".reported_issue_error").closest(".j-field").addClass("error error-input-anim")):error.insertAfter(element)},submitHandler:function(){$(".terms_error,.reported_issue_error").hide(),$("#reported_issue-error, #brief_note-error, #terms-error").remove(),$("#form_submit").prop("disabled",!0),$("#report_feedback").valid()&&($("#feedback_report_popup input, #feedback_report_popup textarea").removeClass("error"),$("#feedback_report_popup input, #feedback_report_popup textarea").removeClass("error-input-anim"),$("#feedback_report_popup input, #feedback_report_popup textarea").removeClass("form_error"),$("#feedback_report_popup input, #feedback_report_popup textarea").removeClass("field-error"),$("#feedback_report_popup .j-field").removeClass("error"),$("#feedback_report_popup .j-field").removeClass("error-input-anim"));var feedback_obj={title:null!=$("#reported_issue").attr("data-name")&&""!=$("#reported_issue").attr("data-name")?$("#reported_issue").attr("data-name"):"",ticket_details:$("#brief_note").val(),disposition_id:null!=$("#reported_issue").val()&&""!=$("#reported_issue").val()?parseInt($("#reported_issue").val()):"",product_id:null!=$("#product_id").val()&&""!=$("#product_id").val()?parseInt($("#product_id").val()):"",pincode:null!=localStorage.getItem("nms_mgo_pincode")&&""!=localStorage.getItem("nms_mgo_pincode")?parseInt(localStorage.getItem("nms_mgo_pincode")):""};$("#feedform_submit_api").length>0&&null!=$("#feedform_submit_api").val()&&""!=$("#feedform_submit_api").val()&&$.ajax({url:$("#feedform_submit_api").val(),type:"POST",data:JSON.stringify(feedback_obj),dataType:"JSON",headers:{userid:localStorage.getItem("userid"),authtoken:localStorage.getItem("authtoken"),pdp_link:window.location.href},contentType:"application/json",success:function(response){"success"==response.status?(isModalClose("#feedback_report_popup","jm-bottomsheet-visible",!1),notify("Thanks for your feedback","success")):($("#form_submit").prop("disabled",!1).removeClass("disabled"),isModalClose("#feedback_report_popup","jm-bottomsheet-visible",!1),notify("Error occurred. Try again later.","error"))},error:function(){$("#form_submit").prop("disabled",!1).removeClass("disabled"),isModalClose("#feedback_report_popup","jm-bottomsheet-visible",!1),notify("Error occurred. Try again later.","error")}})}}),$("form#report_feedback").on("reset",(function(event){$(".terms_error,.reported_issue_error").hide(),$(this).find(".j-field").removeClass("error"),$(this).find(".j-field").removeClass("error-input-anim"),$("textarea#brief_note").removeClass("form_error"),$("textarea#brief_note").removeClass("field-error"),$("#reported_issue").val("").attr("data-value","").attr("data-name","").attr("data-index",""),$("#reported_issue-error, #brief_note-error, #terms-error").remove(),$("#feedback_report_popup #form_submit").prop("disabled",!1).removeClass("disabled")}))}})),$(document).on("click tap",".feedback_link",(function(e){if($(".otc-product-page #product_id").length>0){if(e.preventDefault(),$("#reported_issue").val("").attr("data-value","").attr("data-name","").attr("data-index",""),$("#feedback_report_popup").find(".j-field").removeClass("error"),$("#feedback_report_popup").find(".j-field").removeClass("error-input-anim"),null==localStorage.getItem("userid")||null==localStorage.getItem("userid")||"0"==localStorage.getItem("userid")){e.stopPropagation();var url,path=(new Url).path;return localStorage.setItem("redirectUrl",path),window.location.href="/customer/account/login",!1}if($("#report_feedback")[0].reset(),$(".feedback_survey_category").removeClass("active"),$(".select_issue").text("Select Issue Type"),$("#feedback_report_popup #form_submit").prop("disabled",!1).removeClass("disabled"),$("#feedform_category_api").length>0&&null!=$("#feedform_category_api").val()&&""!=$("#feedform_category_api").val())if($("#feedback_report_popup .feedback_survey_category").length>1)null!=window.feedback_categories&&isModalOpen("#feedback_report_popup","jm-bottomsheet-visible",!1);else{var dataURL=$("#feedform_category_api").val();$.ajax({url:dataURL,method:"GET"}).done((function(response){response&&response.status&&"success"==response.status&&(window.feedback_categories=response,surveyCategories(window.feedback_categories),isModalOpen("#feedback_report_popup","jm-bottomsheet-visible",!1))})).fail((function(error){window.feedback_categories=null}))}}})),$(document).on("click tap",".feedback_close",(function(e){$(".otc-product-page #product_id").length>0&&(e.preventDefault(),$("#report_feedback input").blur(),$("#report_feedback")[0].reset(),$("#feedback_report_popup").find(".j-field").removeClass("error"),$("#feedback_report_popup").find(".j-field").removeClass("error-input-anim"),$("#reported_issue").val("").attr("data-value","").attr("data-name","").attr("data-index",""),$(".feedback_survey_category").removeClass("active"),$(".select_issue").text("Select Issue Type"),isModalClose("#feedback_report_popup","jm-bottomsheet-visible",!1))})),$(document).on("click",".feedback_survey_category",(function(event){$(".feedback_survey_category").removeClass("active"),$(".select_issue").text("Select Issue Type"),$(".reported_issue_error").text(""),$(".reported_issue_error").hide(),$(".reported_issue_error").closest(".j-field").removeClass("error"),$(".reported_issue_error").closest(".j-field").removeClass("error-input-anim"),$(".feedback_survey_category").hasClass("active")||($(".reported_issue_error").hide(),$(this).find(".j-field").removeClass("error"),$(this).find(".j-field").removeClass("error-input-anim"),$("#reported_issue-error").remove(),$("#reported_issue").val("").attr("data-value","").attr("data-name","").attr("data-index",""),null!=$(this).attr("data-value")&&null!=$(this).attr("data-value")&&""!=$(this).attr("data-value")&&($("#reported_issue").val($(this).attr("data-value")),$("#reported_issue").attr("data-index",null!=$(this).attr("data-index")&&null!=$(this).attr("data-index")&&""!=$(this).attr("data-index")?$(this).attr("data-index"):""),$("#reported_issue").attr("data-name",null!=$(this).attr("data-name")&&null!=$(this).attr("data-name")&&""!=$(this).attr("data-name")?$(this).attr("data-name"):""),$("#reported_issue").attr("data-value",null!=$(this).attr("data-value")&&null!=$(this).attr("data-value")&&""!=$(this).attr("data-value")?$(this).attr("data-value"):""),$(".select_issue").text(null!=$(this).attr("data-name")&&null!=$(this).attr("data-name")&&""!=$(this).attr("data-name")?$(this).attr("data-name"):""),$(this).addClass("active")))})),$(document).on("shown.bs.modal","#feedback_report_popup",(function(){var app_os;null!=localStorage.getItem("jio_app_os")&&null!=localStorage.getItem("jio_app_os")&&""!=localStorage.getItem("jio_app_os")&&("ios"==localStorage.getItem("jio_app_os").toLowerCase()&&$("#feedback_report_popup .custom-checkbox a[href*=terms-and-conditions]").removeAttr("target"))})),$(document).on("change","#terms",(function(e){$(this).closest(".j-field").removeClass("error"),$(this).closest(".j-field").removeClass("error-input-anim")})),$(document).on("click tap",".bestdeals_toggle",(function(e){$(this).closest(".pdp_deals_promo").find(".bestdeals_content").is(":visible")?($(this).removeClass("active"),$(this).closest(".pdp_deals_promo").find(".bestdeals_content").css({display:"none"})):($(this).addClass("active"),$(this).closest(".pdp_deals_promo").find(".bestdeals_content").css({display:"block"}))})),$(document).on("click","#elec_promo_addon_dialog .promo-add-on-skip",(function(){var source;"addtocart"==$("#elec_promo_addon_dialog").attr("data-source")&&$("#elec_promo_addon_dialog").modal("hide")})),$(document).on("shown.bs.modal","#elec_promo_addon_dialog",(function(){$("body").addClass("promo_modal");var win_height=$(window).height();$("#elec_promo_addon_dialog .modal-content").css("max-height",win_height-150),$("#elec_promo_addon_dialog .modal-content").css("overflow-y","scroll"),$("#elec_promo_addon_dialog .promo_ext_warranty_sku, #elec_promo_addon_dialog .promo_add_on_sku").each((function(){$(this).prop("checked",!1)})),getPromoAddonTotal()})),$(document).on("hidden.bs.modal","#elec_promo_addon_dialog",(function(){$("body").removeClass("promo_modal");var win_height=$(window).height();$("#elec_promo_addon_dialog .modal-content").css("max-height",win_height-150),$("#elec_promo_addon_dialog .modal-content").css("overflow-y","scroll")})),$(document).on("change","#elec_promo_addon_dialog .promo_ext_warranty_sku, #elec_promo_addon_dialog .promo_add_on_sku",(function(){$("#elec_promo_addon_dialog .promo_ext_warranty_sku:checked").length>0||$("#elec_promo_addon_dialog .promo_add_on_sku:checked").length>0?($("#elec_promo_addon_dialog .promo-add-on-submit").prop("disabled",!1),$("#elec_promo_addon_dialog .promo-add-on-submit").removeClass("disabled")):($("#elec_promo_addon_dialog .promo-add-on-submit").prop("disabled",!0),$("#elec_promo_addon_dialog .promo-add-on-submit").addClass("disabled")),getPromoAddonTotal()})),$(document).on("click",".pdp-more-details",(function(){let target=$(this).attr("data-target"),action="show_more",btn_text="More Details",destination=$(target).next();if($(target).hasClass("expand-content")&&(action="show_less",destination=target,btn_text="Less Details"),$(target).toggleClass("expand-content"),$(this).text(btn_text),$(this).appendTo(destination),"show_more"==action){let position=$(target).offset().top-150;$("html, body").animate({scrollTop:position},"fast")}})),$(document).on("click","#btn_elec_addon_dialog_close",(function(){$("#elec_addon_dialog").removeClass("jm-bottomsheet-visible"),$("body").removeClass("disable-scroll jm-modal-open")})),$(document).on("click","#credit_emi_btn",(function(){$("#emi_plans_dialog").addClass("jm-bottomsheet-visible"),$("body").addClass("disable-scroll jm-modal-open")})),$(document).on("click","#btn_emi_close",(function(){$("#emi_plans_dialog").removeClass("jm-bottomsheet-visible"),$("body").removeClass("disable-scroll jm-modal-open")})),$(document).on("click","#cat_bottom_close",(function(ev){$("#category_bottom_sheet").removeClass("jm-bottomsheet-visible"),"undefined"!=typeof onVisibilty&&onVisibilty("hide"),$("body").removeClass("disable-scroll jm-modal-open")})),$(document).on("click",".pdp_elec_link_btn",(function(ev){ev.stopPropagation();let url,attr=new Url(window.location.href).query.source_attribution,link=$(this).attr("data-href");attr&&"JioMartApp-CPS"==attr||"jiomartapp"==$.cookie("nms_refer_lite")?(ev.preventDefault(),app_open_external_link(link)):window.location.href=link}));