function AllPagePurelyGtmEvents(event="",category="",action="",label="",product_ID="",rating="",widget="",pincode="",search_term=""){var gtmStatus;if("1"==document.getElementById("gtm_status").value){if("undefined"!=typeof journeyDataLayer&&journeyDataLayer(),""==pincode)var pincode=null!=localStorage.getItem("nms_mgo_pincode")?localStorage.getItem("nms_mgo_pincode"):"NA";var page_type=getAllGtmPageType();""!=widget&&(page_type="plp_"+widget);var platform="website";($("body").hasClass("nms-mobistore")||$("body").hasClass("jio-msite"))&&(platform="msite"),null!=localStorage.getItem("jio_app_os")&&null!=localStorage.getItem("jio_app_os")&&(platform="app_"+localStorage.getItem("jio_app_os"));var userID=null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")?localStorage.getItem("userid"):"",login_status=null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")?"logged in":"not logged in";""!=product_ID?dataLayer.push({event:event,journey:window.journeyData,category:category,action:action,label:label,pincode:pincode,page_type:page_type,platform:platform,rating:rating,"user ID":userID,login_status:login_status,"product _ID":product_ID}):dataLayer.push({event:event,journey:window.journeyData,category:category,action:action,label:label,pincode:pincode,page_type:page_type,platform:platform,"user ID":userID,login_status:login_status})}}function NewSearchPurelyGtmEvents(page="",event="",category="",action="",label="",search_term="",suggestive_search_count="",suggestive_search_term_clicked="",suggestive_search_term_index=""){var gtmStatus;if("1"==document.getElementById("gtm_status").value){var pincode=null!=localStorage.getItem("nms_mgo_pincode")?localStorage.getItem("nms_mgo_pincode"):"NA";"undefined"!=typeof journeyDataLayer&&journeyDataLayer();var page_type=getAllGtmPageType(),platform="website";($("body").hasClass("nms-mobistore")||$("body").hasClass("jio-msite"))&&(platform="msite"),null!=localStorage.getItem("jio_app_os")&&null!=localStorage.getItem("jio_app_os")&&(platform="app_"+localStorage.getItem("jio_app_os"));var userID=null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")?localStorage.getItem("userid"):"",login_status=null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")?"logged in":"not logged in";dataLayer.push({event:event,page:page,journey:window.journeyData,category:category,action:action,label:label,search_term:search_term,suggestive_search_count:suggestive_search_count,suggestive_search_term_clicked:suggestive_search_term_clicked,suggestive_search_term_index:suggestive_search_term_index,pincode:pincode,page_type:page_type,platform:platform,"user ID":userID,login_status:login_status})}}function SearchPurelyGtmEvents(event="",category="",action="",label="",search_term="",suggestive_search_count="",suggestive_search_term_clicked="",suggestive_search_term_index=""){var gtmStatus;if("1"==document.getElementById("gtm_status").value){var pincode=null!=localStorage.getItem("nms_mgo_pincode")?localStorage.getItem("nms_mgo_pincode"):"NA";"undefined"!=typeof journeyDataLayer&&journeyDataLayer();var page_type=getAllGtmPageType(),platform="website";($("body").hasClass("nms-mobistore")||$("body").hasClass("jio-msite"))&&(platform="msite"),null!=localStorage.getItem("jio_app_os")&&null!=localStorage.getItem("jio_app_os")&&(platform="app_"+localStorage.getItem("jio_app_os"));var userID=null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")?localStorage.getItem("userid"):"",login_status=null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")?"logged in":"not logged in";dataLayer.push({event:event,journey:window.journeyData,category:category,action:action,label:label,search_term:search_term,suggestive_search_count:suggestive_search_count,suggestive_search_term_clicked:suggestive_search_term_clicked,suggestive_search_term_index:suggestive_search_term_index,pincode:pincode,page_type:page_type,platform:platform,"user ID":userID,login_status:login_status})}}function getAllGtmPageType(){var pageType="other pages",vertical="";if($("body").hasClass("cms-home"))pageType="home page";else if($("body").hasClass("gift-page"))pageType="gift store page";else if($("body").hasClass("otc-list-page")){var cateUrl,cateLevel;if(window.location.pathname.indexOf("/c/bestdeals")>-1)vertical=(cateLevel=(cateUrl=window.location.pathname.split("/")).length)>0?"bestdeals_"+cateUrl[cateLevel-2]+"_"+cateUrl[cateLevel-1]:"bestdeals_"+cateUrl[2];else if(window.location.pathname.indexOf("/c/")>-1||window.location.pathname.indexOf("/b/")>-1||window.location.pathname.indexOf("/m/")>-1){var cateUrl,cateLevel;vertical=(cateLevel=(cateUrl=window.location.pathname.split("/")).length)>0?cateUrl[cateLevel-2]+"_"+cateUrl[cateLevel-1]:cateUrl[2]}else $("body").hasClass("top-deals-list")&&$("#actionField").length>0&&""!=$("#actionField").val()&&null!=$("#actionField").val()&&(vertical=$("#actionField").val().toLowerCase().replace(" ","_"));pageType="plp_"+vertical}else if($("body").hasClass("otc-product-page")){var prodUrl=window.location.pathname;prodUrl.indexOf("/p/")>-1&&(vertical=prodUrl.split("/")[2]),pageType="pdp_"+vertical}else if($("body").hasClass("search-result-page"))pageType="plp_search";else if($("body").hasClass("top-deals-list")){var cateUrl,cateLevel;if(pageType="pdp_topdeals",window.location.pathname.indexOf("/c/")>-1)vertical=(cateLevel=(cateUrl=window.location.pathname.split("/")).length)>0?cateUrl[cateLevel-2]:cateUrl[2];else $("#actionField").length>0&&""!=$("#actionField").val()&&null!=$("#actionField").val()&&(vertical=$("#actionField").val().toLowerCase().replace(" ","_"));""!=vertical&&(pageType="pdp_"+vertical)}else if($("body").hasClass("need-support"))pageType="faqs";else if($("body").hasClass("offers-index-page"))pageType="offers page";else if($("body").hasClass("new-all-cat"))pageType="all categories page";else if($("body").hasClass("cms-groceries")||$("body").hasClass("cms-fashion")||$("body").hasClass("cms-beauty")||$("body").hasClass("cms-electronics")){var cateUrl,cateLevel;pageType="category home page_",(cateLevel=(cateUrl=window.location.pathname.split("/")).length)>0&&cateLevel<3&&(pageType="category home page_"+cateUrl[1].toLowerCase())}return pageType}$(document).on("click tap",(function(e){var gtmStatus;if("1"==document.getElementById("gtm_status").value){var event="",category="",action="",label="",product_ID="",rating="",widget="",pincode="",search_term="",suggestive_search_count="",site_search_results_count="",suggestive_search_term_clicked="",suggestive_search_term_index="",innerText;if(($("body").hasClass("otc-list-page")||$("body").hasClass("search-result-page")||$("body").hasClass("top-deals-list"))&&(event="event_plp_action",category="plp"),$("body").hasClass("otc-product-page")&&(event="event_pdp_action",category="pdp"),($("body").hasClass("need-support")||$("body").hasClass("cms-faqs"))&&(event="event_customer_service_action",category="faqs"),$("body").hasClass("cms-home")&&(event="event_home_page",category="top main category"),$("body").hasClass("need-support")&&(event="event_need_help",category="need help"),$("body").hasClass("new-all-cat")&&(event="event_shop_by_category",category="shop by category"),$(".header").find(e.target).length>0&&(event="event_all_pages",category="header"),$(".search_section").find(e.target).length>0&&(event="event_site_search",category="site search"),""!=e.target.className&&$(".delivery-location").find(e.target).length>0&&void 0!==e.originalEvent&&(event="event_all_pages",category="header",null!=$(e.target).closest(".delivery-location-item").find(".delivery-location-pincode").text()&&(pincode=$(e.target).closest(".delivery-location-item").find(".delivery-location-pincode").text().trim(" ")),action="address clicked",label=$($(".delivery-location").find(".delivery-location-item")).index($(e.target).closest(".delivery-location-item"))+1),e.target.id,$("#store_pickup").find(e.target).length>0&&(event="event_all_pages",category="header",action="store pickup clicked",label="header_store_pickup_clicked"),("function"===e.target.id.indexOf&&e.target.id.indexOf("ham_signin_cta")>-1||$("#ham_signin_cta").find(e.target).length>0)&&null!=localStorage.getItem("userid")&&null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")&&(action="profile clicked",label="header_profile_clicked"),("function"===e.target.id.indexOf&&e.target.id.indexOf("srch_qr_btn")>-1||$("#srch_qr_btn").find(e.target).length>0)&&(event="event_site_search",category="site search",action="search by scan clicked",label="site_search_search_by_scan_clicked"),$(".search-recent-item").find(e.target).length>0&&(null!=e.target.innerText&&""!=e.target.innerText&&null!=e.target.innerText&&(search_term=e.target.innerText),event="event_site_search",category="site search",action="recent searches clicked",label="site_search_recent_searches_clicked"),("function"===e.target.id.indexOf&&e.target.id.indexOf("btn_detect_location")>-1||$(".delivery-cta-location").find(e.target).length>0)&&(event="event_all_pages",category="header",action="detect my location clicked",label="header_detect_my_location_clicked"),("function"===e.target.id.indexOf&&e.target.id.indexOf("btn_ham_menu")>-1||$("#btn_ham_menu").find(e.target).length>0)&&$("#hamburger_menu").length>0&&(action="hamburger clicked",label="header_hamburger_clicked"),$(".minicart-wrapper").find(e.target).length>0&&(action="cart clicked",label="header_cart_clicked"),$("#hamburger_menu .content-section ul li").find(e.target).length>0){event="event_hamburger_menu_action",category="hamburger option selected";var menuText="";null!=$(e.target).closest("li").find(".nav-section-list-title").text()&&""!=$(e.target).closest("li").find(".nav-section-list-title").text()&&(menuText=$(e.target).closest("li").find(".nav-section-list-title").text().trim(" ")),""!=menuText&&(action=menuText.toLowerCase(),label="hamburger_"+menuText.toLowerCase().trim().replace(" ","_"))}if($(".new-all-cat .all-category-page .category-list-inner").find(e.target).length>0&&$(e.target).closest(".category-list-sub-item").find(".jm-list-content-title").length>0){var innerText=$(e.target).closest(".category-list-sub-item").find(".jm-list-content-title").text().toLowerCase();action="shop by category clicked";var categoryLO="",categoryL1="";categoryLO=$(e.target).closest(".category-list-sub-item").attr("data-category"),categoryL1=$(e.target).closest(".category-list-sub-item").attr("data-subcategory"),""!=categoryLO&&""!=categoryL1&&(label=categoryLO.toLowerCase()+"_"+categoryL1.toLowerCase()+"_"+innerText)}if($(".aa-Panel .aa-List").find(e.target).length>0)if($(e.target).closest(".product-item-info").text().length>0)event="event_site_search",category="site search",action="auto suggestion selected",label="site_search_auto_suggestion_selected",search_term=innerText=$(e.target).closest(".product-item-info").text().toLowerCase(),suggestive_search_count=$(".aa-Panel .auto-suggestion").length,suggestive_search_term_index=$($(".aa-Panel").find(".auto-suggestion")).index($(e.target).closest(".auto-suggestion"))+1;""!=event&&""!=category&&""!=label&&("event_site_search"!=event?AllPagePurelyGtmEvents(event,category,action,label,"","","",pincode):SearchPurelyGtmEvents(event,category,action,label,search_term,suggestive_search_count,"",suggestive_search_term_index))}})),$(document).ready((function(){var event="",category="",action="",label="",product_ID="",rating="",search_term="",suggestive_search_count="",site_search_results_count="",suggestive_search_term_clicked="",suggestive_search_term_index="";($("body").hasClass("otc-list-page")||$("body").hasClass("search-result-page"))&&(event="event_plp_action",category="plp"),$("body").hasClass("otc-product-page")&&(event="event_pdp_action",category="pdp"),($("body").hasClass("need-support")||$("body").hasClass("cms-faqs"))&&(event="event_customer_service_action",category="faqs"),$("body").hasClass("cms-home")&&(event="event_home_page",category="top main category"),$("#btn_delivery").on("click tap",(function(e){category="header",action="deliver to clicked",label="header_deliver_to_clicked",""!=(event="event_all_pages")&&""!=category&&""!=label&&AllPagePurelyGtmEvents(event,category,action,label)})),$("#pickup_popup").on("show.bs.modal",(function(e){category="header",action="store pickup clicked",label="header_store_pickup_clicked",""!=(event="event_all_pages")&&""!=category&&""!=label&&AllPagePurelyGtmEvents(event,category,action,label)})),$(".aa-Form").submit((function(e){event="event_site_search",category="site search",action="search query typed",label="site_search_search_query_entered",search_term=$(".aa-Input").val(),suggestive_search_count=$(".aa-List .autocomplete-list").length,""!=event&&""!=category&&""!=label&&SearchPurelyGtmEvents(event,category,action,label,search_term,suggestive_search_count,"","")})),$("#headerback").on("click tap",(function(e){category="header",action="back clicked",label="header_back_clicked",""!=(event="event_all_pages")&&""!=category&&""!=label&&AllPagePurelyGtmEvents(event,category,action,label)})),$("#rel_search_form").submit((function(e){$("#rel_search_val").length>0&&null!=$("#rel_search_val").val()&&null!=$("#rel_search_val").val()&&""!=$("#rel_search_val").val()&&(search_term=$("#rel_search_val").val(),category="site search",action="Bulk list searched",label="site_search_searched_with_bulklist",""!=(event="event_site_search")&&""!=category&&""!=label&&SearchPurelyGtmEvents(event,category,action,label,search_term,"","",""))})),$("#customer-CX .CX-seemore").on("click tap",(function(e){event="event_pdp_action",category="pdp",action="view offers",label="view_offers_clicked",product_ID=null!=$("#alt_sku").val()&&null!=$("#alt_sku").val()&&""!=$("#alt_sku").val()?$("#alt_sku").val():"",""!=event&&""!=category&&""!=label&&""!=product_ID&&AllPagePurelyGtmEvents(event,category,action,label,product_ID)})),$(document).on("focus",".header-main-box-input",(function(e){category="site search",action="search box clicked",label="site_search_search_box_clicked",""!=(event="event_site_search")&&""!=category&&""!=label&&SearchPurelyGtmEvents(event,category,action,label,"","","","")})),$(document).on("click tap","#btn_search_list",(function(){category="site search",action="Bulk list clicked",label="site_search_bulk_list_clicked",""!=(event="event_site_search")&&""!=category&&""!=label&&SearchPurelyGtmEvents(event,category,action,label,"","","","")}))}));